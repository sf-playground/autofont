#
# Autofont -- Heterogeneous Source Typeface Family Name Not Detected Test
# Copyright (C) 2017 James T. Lee
#
# This software may be modified and distributed under the terms
# of the MIT license.  See the LICENSE file for details.
#
# Configure shall detect the typeface family name.  If the UFOs have different
# font family names that do not share a head substring, configure should fail.
#

# Include a set of common test functions
source "$HELPERS"

# Establish expectations
expected_config_log_message="could not detect typeface family name"

# Perform the action under test
make_fake_ufo Foo.ufo Foo
make_fake_ufo Bar.ufo Bar
configure_with_build_deps --with-font-srcdir=.

# Read the results
source "$RESULTS"

# Validate the expectations
[[ $CONFIGURE_STATUS != 0 ]] &&
grep "$expected_config_log_message" config.log

# vi: ft=sh
