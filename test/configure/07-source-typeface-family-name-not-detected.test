#
# Autofont -- Typeface Family Name Not Detected Test
# Copyright (C) 2017 James T. Lee
#
# This software may be modified and distributed under the terms
# of the MIT license.  See the LICENSE file for details.
#
# Configure shall detect the typeface family name.  If the UFOs are not valid
# enough to read the family names using ufoLib, configure should fail.
#

# Include a set of common test functions
source "$HELPERS"

# Establish expectations
expected_config_log_message="could not detect typeface family name"

# Perform the action under test
mkdir Foo.ufo   # invalid ufo
configure_with_build_deps

# Read the results
source "$RESULTS"

# Validate the expectations
[[ $CONFIGURE_STATUS != 0 ]] &&
grep "$expected_config_log_message" config.log

# vi: ft=sh
